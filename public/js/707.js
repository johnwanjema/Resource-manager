"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[707],{1707:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});const s={data:function(){return{currentPage:1,perPage:5,fields:["#",{key:"title"},{key:"description"},"created_at",{key:"actions",label:"Actions"}],pdfs:[],filter:null,filterOn:[],form:new Form({id:"",title:"",description:"",pdf:""}),editMode:!1,pdf:{}}},computed:{rows:function(){return this.pdfs.length}},methods:{updatePDf:function(){var t=this,e=new FormData;e.append("title",this.form.title),e.append("description",this.form.description),e.append("pdf",this.form.pdf),axios.post("/api/updatepdf/"+this.pdf.id,e,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data"}}).then((function(e){e.data.success&&($("#modal-large").modal("hide"),t.form.reset(),document.getElementById("file-input").value="",toast.fire({icon:"success",title:"PDF updated successfully"}),t.getPdfs())}))},selectPdf:function(t){this.form.pdf=t.target.files[0]},openModal:function(){this.form.reset(),this.editMode=!1,$("#modal-large").modal("show")},openEditModal:function(t){this.editMode=!0,this.pdf=t,$("#modal-large").modal("show"),this.form.fill(t)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getPdfs:function(){var t=this;axios.get("/api/pdfs").then((function(e){var a=e.data;t.pdfs=a.data,t.totalRows=t.pdfs.length})).catch((function(t){console.log(error)}))},addpdf:function(){var t=this,e=new FormData;e.append("title",this.form.title),e.append("description",this.form.description),e.append("pdf",this.form.pdf),axios.post("/api/pdfs",e,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data"}}).then((function(e){e.data.success&&($("#modal-large").modal("hide"),t.form.reset(),document.getElementById("file-input").value="",toast.fire({icon:"success",title:"PDF added successfully"}),t.getPdfs())}))},deletePDF:function(t){var e=this;Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&e.form.delete("/api/pdfs/"+t).then((function(){Swal.fire("Deleted!","PDF has been deleted.","success"),e.getPdfs()})).catch((function(){Swal.fire("Failed to delete","Failed","error")}))}))}},created:function(){this.getPdfs()}},i=s;const l=(0,a(1900).Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"content"},[a("h2",{staticClass:"content-heading"},[t._v("PDFs")]),t._v(" "),a("div",{staticClass:"block"},[a("div",{staticClass:"block-header block-header-default"},[t._m(0),t._v(" "),a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.openModal()}}},[t._v("\n                        Add PDF\n                    ")])]),t._v(" "),a("div",{staticClass:"block-content block-content-full"},[a("div",{staticClass:"dataTables_wrapper dt-bootstrap4 no-footer",attrs:{id:"DataTables_Table_1_wrapper"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"DataTables_Table_1_length"}},[a("label",[t._v("\n                                        Show\n                                        "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"custom-select custom-select-sm form-control form-control-sm",attrs:{name:"DataTables_Table_1_length","aria-controls":"DataTables_Table_1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.perPage=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),a("option",{attrs:{value:"8"}},[t._v("8")]),t._v(" "),a("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("20")])]),t._v("\n                                        entries\n                                    ")])])]),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_filter",attrs:{id:"DataTables_Table_1_filter"}},[a("label",[t._v("Search:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"","aria-controls":"DataTables_Table_1"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("b-table",{attrs:{responsive:"",striped:"",hover:"","show-empty":"",items:t.pdfs,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter,filterIncludedFields:t.filterOn},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(#)",fn:function(e){return[a("p",[t._v(t._s(e.index+1))])]}},{key:"cell(created_at)",fn:function(e){return[a("p",[t._v(t._s(t._f("filterDateOnly")(e.item.created_at)))])]}},{key:"cell(actions)",fn:function(e){return[a("a",{staticClass:"btn btn-primary btn-sm",attrs:{href:"/PDF/"+e.item.storageLink,target:"_blank"}},[t._v("\n                                        View\n                                    ")]),t._v(" "),a("b-button",{staticClass:"btn btn-sm",attrs:{variant:"warning"},on:{click:function(a){return t.openEditModal(e.item)}}},[t._v("\n                                        Edit\n                                    ")]),t._v(" "),a("b-button",{staticClass:"btn btn-sm",attrs:{variant:"danger"},on:{click:function(a){return t.deletePDF(e.item.id)}}},[t._v("\n                                        Delete\n                                    ")])]}}])})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-5"}),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-7"},[a("div",{staticClass:"dataTables_paginate paging_simple_numbers",attrs:{id:"DataTables_Table_1_paginate"}},[a("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])]),t._v(" "),a("div",{staticClass:"modal",attrs:{id:"modal-large",tabindex:"-1",role:"dialog","aria-labelledby":"modal-large","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){e.preventDefault(),t.editMode?t.updatePDf():t.addpdf()}}},[a("div",{staticClass:"block block-themed block-transparent mb-0"},[a("div",{staticClass:"block-header bg-primary-dark"},[t.editMode?a("h3",{staticClass:"block-title"},[t._v("Edit PDF")]):a("h3",{staticClass:"block-title"},[t._v("Add PDF")]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"block-content"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{required:"",type:"text",id:"email",name:"email",placeholder:"Enter title.."},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-12",attrs:{for:"textarea-input"}},[t._v("Description")]),t._v(" "),a("div",{staticClass:"col-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",attrs:{id:"textarea-input",name:"textarea-input",rows:"4",placeholder:"Description ..",spellcheck:"false"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-12",attrs:{for:"file-input"}},[t._v("File Upload")]),t._v(" "),a("div",{staticClass:"col-12"},[a("input",{attrs:{required:"",type:"file",id:"file-input",name:"file-input"},on:{change:t.selectPdf}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-alt-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.editMode?a("button",{staticClass:"btn btn-alt-success",attrs:{type:"submit"}},[t._v("\n                            Update PDF\n                        ")]):a("button",{staticClass:"btn btn-alt-success",attrs:{type:"submit"}},[t._v("\n                            Add PDF\n                        ")])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"block-title"},[e("small")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block-options"},[e("button",{staticClass:"btn-block-option",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("i",{staticClass:"si si-close"})])])}],!1,null,null,null).exports}}]);