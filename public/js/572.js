"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[572],{5628:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});const s={data:function(){return{currentPage:1,perPage:5,fields:["#",{key:"title"},{key:"description"},"snippet","created_at",{key:"actions",label:"Actions"}],snippets:[],filter:null,filterOn:[],form:new Form({id:"",title:"",description:"",snippet:""}),editMode:!1,snippet:""}},computed:{rows:function(){return this.snippets.length}},methods:{openVIewModal:function(t){$("#view-modal").modal("show"),this.snippet=t},updateSnippet:function(){var t=this;this.form.put("/api/snippets/"+this.snippet.id).then((function(e){e.data;toast.fire({icon:"success",title:"Snippet updated successfully"}),$("#modal-large").modal("hide"),t.form.reset(),t.getSnippets()}))},openModal:function(){this.editMode=!1,this.form.reset(),$("#modal-large").modal("show")},openEditModal:function(t){this.form.fill(t),this.editMode=!0,this.snippet=t,$("#modal-large").modal("show")},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getSnippets:function(){var t=this;axios.get("/api/snippets").then((function(e){var a=e.data;t.snippets=a.data,t.totalRows=t.snippets.length})).catch((function(t){console.log(error)}))},addSnippet:function(){var t=this;this.form.post("/api/snippets").then((function(e){e.data.success&&(t.form.reset,toast.fire({icon:"success",title:"Snippet added successfully"}),$("#modal-large").modal("hide"),t.getSnippets())})).catch((function(t){console.log(t)}))},deleteSnippet:function(t){var e=this;Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&e.form.delete("/api/snippets/"+t).then((function(){Swal.fire("Deleted!","Snippet has been deleted.","success"),e.getSnippets()})).catch((function(){Swal.fire("Failed to delete","Failed","error")}))}))}},created:function(){this.getSnippets()}};const i=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"content"},[a("h2",{staticClass:"content-heading"},[t._v(" HTML snippets")]),t._v(" "),a("div",{staticClass:"block"},[a("div",{staticClass:"block-header block-header-default"},[t._m(0),t._v(" "),a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.openModal()}}},[t._v("\n                        Add Snippet\n                    ")])]),t._v(" "),a("div",{staticClass:"block-content block-content-full"},[a("div",{staticClass:"dataTables_wrapper dt-bootstrap4 no-footer",attrs:{id:"DataTables_Table_1_wrapper"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"DataTables_Table_1_length"}},[a("label",[t._v("\n                                            Show\n                                            "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"custom-select custom-select-sm form-control form-control-sm",attrs:{name:"DataTables_Table_1_length","aria-controls":"DataTables_Table_1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.perPage=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),a("option",{attrs:{value:"8"}},[t._v("8")]),t._v(" "),a("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("20")])]),t._v("\n                                            entries\n                                        ")])])]),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_filter",attrs:{id:"DataTables_Table_1_filter"}},[a("label",[t._v("Search:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"","aria-controls":"DataTables_Table_1"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("b-table",{attrs:{responsive:"",striped:"",hover:"","show-empty":"",items:t.snippets,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter,filterIncludedFields:t.filterOn},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(#)",fn:function(e){return[a("p",[t._v(t._s(e.index+1))])]}},{key:"cell(snippet)",fn:function(e){return[a("p",{domProps:{innerHTML:t._s(e.item.snippet.substring(0,20)+"...")}})]}},{key:"cell(created_at)",fn:function(e){return[a("p",[t._v("\n                                        "+t._s(t._f("filterDateOnly")(e.item.created_at)))])]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"btn btn-sm",attrs:{variant:"primary"},on:{click:function(a){return t.openVIewModal(e.item)}}},[t._v("\n                                        View\n                                    ")]),t._v(" "),a("b-button",{staticClass:"btn btn-sm",attrs:{variant:"warning"},on:{click:function(a){return t.openEditModal(e.item)}}},[t._v("\n                                        Edit\n                                    ")]),t._v(" "),a("b-button",{staticClass:"btn btn-sm",attrs:{variant:"danger"},on:{click:function(a){return t.deleteSnippet(e.item.id)}}},[t._v("\n                                        Delete\n                                    ")])]}}])})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-5"}),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-7"},[a("div",{staticClass:"dataTables_paginate paging_simple_numbers",attrs:{id:"DataTables_Table_1_paginate"}},[a("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])]),t._v(" "),a("div",{staticClass:"modal",attrs:{id:"modal-large",tabindex:"-1",role:"dialog","aria-labelledby":"modal-large","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){e.preventDefault(),t.editMode?t.updateSnippet():t.addSnippet()}}},[a("div",{staticClass:"block block-themed block-transparent mb-0"},[a("div",{staticClass:"block-header bg-primary-dark"},[t.editMode?a("h3",{staticClass:"block-title"},[t._v("Edit Snippet")]):a("h3",{staticClass:"block-title"},[t._v("Add Snippet")]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"block-content"},[a("form",{attrs:{action:"be_forms_elements_bootstrap.html",method:"post",onsubmit:"return false;"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{type:"text",id:"email",name:"email",placeholder:"Enter title.."},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-12",attrs:{for:"example-textarea-input"}},[t._v("Description")]),t._v(" "),a("div",{staticClass:"col-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",attrs:{id:"example-textarea-input",name:"example-textarea-input",rows:"6",placeholder:"Description ..",spellcheck:"false"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("HTML Snippet")]),t._v(" "),a("tinymce",{attrs:{id:"d1"},model:{value:t.form.snippet,callback:function(e){t.$set(t.form,"snippet",e)},expression:"form.snippet"}})],1)])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-alt-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.editMode?a("button",{staticClass:"btn btn-alt-success",attrs:{type:"submit"}},[t._v("\n                            Update Snippet\n                        ")]):a("button",{staticClass:"btn btn-alt-success",attrs:{type:"submit"}},[t._v("\n                            Add Snippet\n                        ")])])])])])]),t._v(" "),a("div",{staticClass:"modal",attrs:{id:"view-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modal-large","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"block block-themed block-transparent mb-0"},[t._m(2),t._v(" "),a("div",{staticClass:"block-content"},[a("p",{domProps:{innerHTML:t._s(t.snippet.snippet)}})])]),t._v(" "),t._m(3)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"block-title"},[e("small")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block-options"},[e("button",{staticClass:"btn-block-option",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("i",{staticClass:"si si-close"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-header bg-primary-dark"},[a("h3",{staticClass:"block-title"},[t._v("View Snippet")]),t._v(" "),a("div",{staticClass:"block-options"},[a("button",{staticClass:"btn-block-option",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("i",{staticClass:"si si-close"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-alt-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],!1,null,null,null).exports}}]);